{"ast":null,"code":"var _jsxFileName = \"D:\\\\BABOGA\\\\SYSAN\\\\client\\\\src\\\\components\\\\panel\\\\ProblemPOVS\\\\Solve\\\\Methods\\\\CompletePairwises.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Form, Button, Radio, Space, Typography, InputNumber, Popconfirm } from 'antd';\nconst {\n  Title,\n  Text\n} = Typography;\n\nfunction PairComparisons({\n  problem,\n  onClick,\n  loading,\n  array\n}) {\n  const [current, setCurrent] = useState(1);\n  const [solution, setSolution] = useState([]);\n  const [scale, setScale] = useState(1);\n  const [temp, setTemp] = useState([]);\n  const altlen = problem.alternatives.length;\n  let values = {\n    solution: solution,\n    Ra: null,\n    Ru: null\n  };\n\n  const next = () => {\n    setCurrent(current + 1);\n  };\n\n  const prev = () => {\n    setCurrent(current - 1);\n  };\n\n  useEffect(() => {\n    let temp = [];\n    if (array.length !== 0) setSolution(array);else {\n      for (let i = 0; i < altlen; i += 1) {\n        temp[i] = [];\n\n        for (let k = 0; k < altlen; k += 1) {\n          if (i !== k) temp[i][k] = null;else temp[i][k] = 0;\n        }\n      }\n\n      setSolution(temp);\n    }\n  }, []);\n\n  function handleChange(value, i, k) {\n    let temp = solution;\n\n    if (value === 2) {\n      temp[i][k] = temp[i] / scale;\n      temp[k][i] = 1 - temp[i] / scale;\n    } else {\n      temp[i][k] = value;\n      temp[k][i] = 1 - value;\n    }\n\n    setSolution(temp);\n  }\n\n  function handleChangeScale(value) {\n    setScale(value);\n  }\n\n  function handleChangeTemp(value, i) {\n    let tempVal = temp;\n    tempVal[i] = value;\n    setTemp(tempVal);\n  }\n\n  let count = altlen * (altlen - 1) / 2;\n  let group = 0;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Form, {\n    name: \"problem_details_form\",\n    className: \"login-form\",\n    layout: \"vertical\",\n    size: \"large\",\n    style: {\n      clear: 'both'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center align-items-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 9\n    }\n  }, solution.map((column, i) => column.map((row, k) => i < k && current === (group += 1) && /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    style: {\n      width: '50%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, group, '/', count), /*#__PURE__*/React.createElement(Space, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 23\n    }\n  }, 'Задайте размер шкалы:'), /*#__PURE__*/React.createElement(InputNumber, {\n    name: \"scale\",\n    defaultValue: scale,\n    min: 1,\n    step: 1,\n    onChange: value => handleChangeScale(value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 23\n    }\n  })), /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 21\n    }\n  }, 'Выберите наиболее предпочтительную альтернативу'), /*#__PURE__*/React.createElement(Radio.Group, {\n    key: group,\n    name: \"solution\",\n    defaultValue: solution[i][k],\n    onChange: data => handleChange(data.target.value, i, k),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(Radio, {\n    value: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    strong: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 27\n    }\n  }, problem.alternatives[i].formulation)), /*#__PURE__*/React.createElement(Radio, {\n    value: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    strong: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 27\n    }\n  }, \"\\u041F\\u0435\\u0440\\u0432\\u0430\\u044F \\u0430\\u043B\\u044C\\u0442\\u0435\\u0440\\u043D\\u0430\\u0442\\u0438\\u0432\\u0430 \\u043F\\u0440\\u0435\\u0434\\u043F\\u043E\\u0447\\u0442\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u0435\\u0435 \\u0432\", ' ', /*#__PURE__*/React.createElement(InputNumber, {\n    name: \"scale\",\n    size: \"small\",\n    defaultValue: temp[i],\n    min: 1,\n    max: scale,\n    step: 1,\n    onChange: value => handleChangeTemp(value, i),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 29\n    }\n  }), ' ', \"\\u0441\\u043B\\u0443\\u0447\\u0430\\u044F\\u0445 \\u0438\\u0437 \", scale)), /*#__PURE__*/React.createElement(Radio, {\n    value: 0.0,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    strong: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 27\n    }\n  }, problem.alternatives[k].formulation))))))), /*#__PURE__*/React.createElement(Space, {\n    direction: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 11\n    }\n  }, current < count && /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: () => next(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 15\n    }\n  }, \"\\u0414\\u0430\\u043B\\u0435\\u0435\"), current > 0 && /*#__PURE__*/React.createElement(Button, {\n    onClick: () => prev(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, \"\\u041D\\u0430\\u0437\\u0430\\u0434\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center align-items-center\",\n    style: {\n      marginTop: '5%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"align-self-center text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    loading: loading,\n    htmlType: \"submit\",\n    className: \"mr-2\",\n    disabled: loading,\n    onClick: () => onClick(values),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 15\n    }\n  }, \"\\u0417\\u0430\\u0432\\u0435\\u0440\\u0448\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Popconfirm, {\n    title: \"\\u041F\\u043E\\u0441\\u043B\\u0435\\u0434\\u043D\\u0438\\u0435 \\u0440\\u0435\\u0448\\u0435\\u043D\\u0438\\u044F \\u043D\\u0435 \\u0441\\u043E\\u0445\\u0440\\u0430\\u043D\\u044F\\u0442\\u0441\\u044F. \\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B?\",\n    onConfirm: () => window.location.replace(`/expert/problem/${problem._id}`),\n    okText: \"\\u0414\\u0430\",\n    cancelText: \"\\u041D\\u0435\\u0442\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"info\",\n    className: \"login-form-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  }, \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\")))))));\n}\n\nexport default PairComparisons;","map":{"version":3,"sources":["D:/BABOGA/SYSAN/client/src/components/panel/ProblemPOVS/Solve/Methods/CompletePairwises.js"],"names":["React","useState","useEffect","Form","Button","Radio","Space","Typography","InputNumber","Popconfirm","Title","Text","PairComparisons","problem","onClick","loading","array","current","setCurrent","solution","setSolution","scale","setScale","temp","setTemp","altlen","alternatives","length","values","Ra","Ru","next","prev","i","k","handleChange","value","handleChangeScale","handleChangeTemp","tempVal","count","group","clear","map","column","row","width","data","target","formulation","marginTop","window","location","replace","_id"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  Form,\r\n  Button,\r\n  Radio,\r\n  Space,\r\n  Typography,\r\n  InputNumber,\r\n  Popconfirm\r\n} from 'antd';\r\n\r\nconst { Title, Text } = Typography;\r\n\r\nfunction PairComparisons({ problem, onClick, loading, array }) {\r\n  const [current, setCurrent] = useState(1);\r\n  const [solution, setSolution] = useState([]);\r\n  const [scale, setScale] = useState(1);\r\n  const [temp, setTemp] = useState([]);\r\n  const altlen = problem.alternatives.length;\r\n\r\n  let values = {\r\n    solution: solution,\r\n    Ra: null,\r\n    Ru: null\r\n  };\r\n\r\n  const next = () => {\r\n    setCurrent(current + 1);\r\n  };\r\n\r\n  const prev = () => {\r\n    setCurrent(current - 1);\r\n  };\r\n  useEffect(() => {\r\n    let temp = [];\r\n    if (array.length !== 0) setSolution(array);\r\n    else {\r\n      for (let i = 0; i < altlen; i += 1) {\r\n        temp[i] = [];\r\n        for (let k = 0; k < altlen; k += 1) {\r\n          if (i !== k) temp[i][k] = null;\r\n          else temp[i][k] = 0;\r\n        }\r\n      }\r\n      setSolution(temp);\r\n    }\r\n  }, []);\r\n\r\n  function handleChange(value, i, k) {\r\n    let temp = solution;\r\n    if (value === 2) {\r\n      temp[i][k] = temp[i] / scale;\r\n      temp[k][i] = 1 - temp[i] / scale;\r\n    } else {\r\n      temp[i][k] = value;\r\n      temp[k][i] = 1 - value;\r\n    }\r\n    setSolution(temp);\r\n  }\r\n\r\n  function handleChangeScale(value) {\r\n    setScale(value);\r\n  }\r\n\r\n  function handleChangeTemp(value, i) {\r\n    let tempVal = temp;\r\n    tempVal[i] = value;\r\n    setTemp(tempVal);\r\n  }\r\n\r\n  let count = (altlen * (altlen - 1)) / 2;\r\n  let group = 0;\r\n  return (\r\n    <>\r\n      <Form\r\n        name=\"problem_details_form\"\r\n        className=\"login-form\"\r\n        layout=\"vertical\"\r\n        size=\"large\"\r\n        style={{ clear: 'both' }}\r\n      >\r\n        <div className=\"row justify-content-center align-items-center\">\r\n          {solution.map((column, i) =>\r\n            column.map(\r\n              (row, k) =>\r\n                i < k &&\r\n                current === (group += 1) && (\r\n                  <Space direction=\"vertical\" style={{ width: '50%' }}>\r\n                    <Title level={2}>\r\n                      {group}\r\n                      {'/'}\r\n                      {count}\r\n                    </Title>\r\n                    <Space>\r\n                      <Title level={4}>{'Задайте размер шкалы:'}</Title>\r\n                      <InputNumber\r\n                        name=\"scale\"\r\n                        defaultValue={scale}\r\n                        min={1}\r\n                        step={1}\r\n                        onChange={(value) => handleChangeScale(value)}\r\n                      />\r\n                    </Space>\r\n\r\n                    <Title level={4}>\r\n                      {'Выберите наиболее предпочтительную альтернативу'}\r\n                    </Title>\r\n                    <Radio.Group\r\n                      key={group}\r\n                      name=\"solution\"\r\n                      defaultValue={solution[i][k]}\r\n                      onChange={(data) => handleChange(data.target.value, i, k)}\r\n                    >\r\n                      <Space direction=\"vertical\">\r\n                        <Radio value={1}>\r\n                          <Text strong>\r\n                            {problem.alternatives[i].formulation}\r\n                          </Text>\r\n                        </Radio>\r\n                        <Radio value={2}>\r\n                          <Text strong>\r\n                            Первая альтернатива предпочтительнее в{' '}\r\n                            <InputNumber\r\n                              name=\"scale\"\r\n                              size=\"small\"\r\n                              defaultValue={temp[i]}\r\n                              min={1}\r\n                              max={scale}\r\n                              step={1}\r\n                              onChange={(value) => handleChangeTemp(value, i)}\r\n                            />{' '}\r\n                            случаях из {scale}\r\n                          </Text>\r\n                        </Radio>\r\n                        <Radio value={0.0}>\r\n                          <Text strong>\r\n                            {problem.alternatives[k].formulation}\r\n                          </Text>\r\n                        </Radio>\r\n                      </Space>\r\n                    </Radio.Group>\r\n                  </Space>\r\n                )\r\n            )\r\n          )}\r\n          <Space direction=\"vertical\">\r\n            {current < count && (\r\n              <Button type=\"primary\" onClick={() => next()}>\r\n                Далее\r\n              </Button>\r\n            )}\r\n            {current > 0 && <Button onClick={() => prev()}>Назад</Button>}\r\n          </Space>\r\n        </div>\r\n        <div\r\n          className=\"row justify-content-center align-items-center\"\r\n          style={{ marginTop: '5%' }}\r\n        >\r\n          <div className=\"align-self-center text-center\">\r\n            <Form.Item>\r\n              <Button\r\n                type=\"primary\"\r\n                loading={loading}\r\n                htmlType=\"submit\"\r\n                className=\"mr-2\"\r\n                disabled={loading}\r\n                onClick={() => onClick(values)}\r\n              >\r\n                Завершить\r\n              </Button>\r\n              <Popconfirm\r\n                title=\"Последние решения не сохранятся. Вы уверены?\"\r\n                onConfirm={() =>\r\n                  window.location.replace(`/expert/problem/${problem._id}`)\r\n                }\r\n                okText=\"Да\"\r\n                cancelText=\"Нет\"\r\n              >\r\n                <Button type=\"info\" className=\"login-form-button\">\r\n                  Отмена\r\n                </Button>\r\n              </Popconfirm>\r\n            </Form.Item>\r\n          </div>\r\n        </div>\r\n      </Form>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default PairComparisons;\r\n"]},"metadata":{},"sourceType":"module"}