{"ast":null,"code":"var _jsxFileName = \"D:\\\\BABOGA\\\\SYSAN\\\\client\\\\src\\\\components\\\\panel\\\\ProblemPOVS\\\\Solve\\\\Solving.js\";\nimport React, { useContext, useEffect } from 'react';\nimport { ProblemContext } from '../../../../context/problem/problemContext';\nimport { UserContext } from '../../../../context/user/userContext';\nimport CompletePairwises from './Methods/CompletePairwises';\nimport PairComparisons from './Methods/PairComparisons';\nimport Prefences from './Methods/Prefences';\nimport Ranks from './Methods/Ranks';\nimport WeightedExperts from './Methods/WeightedExperts';\nimport Loader from '../../../Loader/Loader';\nimport HOC from '../../HOC';\nimport MissingPage from '../../../errors/404';\n\nfunction Solving(props) {\n  const {\n    state,\n    fetchSingleProblem,\n    editProblemSolution\n  } = useContext(ProblemContext);\n  const {\n    loading,\n    problem\n  } = state;\n  const {\n    me\n  } = useContext(UserContext).state;\n  const id = props.match.params.id;\n  const method = props.match.params.method;\n  useEffect(() => {\n    fetchSingleProblem(id);\n  }, [fetchSingleProblem, id]);\n\n  const getSolutions = () => {\n    return eval(`problem.experts.find((expert) => expert.id === me._id).solutions.method${method}.values`);\n  };\n\n  const getRu = () => {\n    return eval(`problem.experts.find((expert) => expert.id === me._id).Ru`);\n  };\n\n  const getRa = () => {\n    return eval(`problem.experts.find((expert) => expert.id === me._id).Ra`);\n  };\n\n  const onClick = values => {\n    let sum = 0;\n    let ru = 0;\n    if (Array.isArray(values.Ra)) for (let i = 0; i < values.Ra.length; i += 1) sum += values.Ra[i];else sum = getRa();\n    if (method === 2) ru = values.Ru;else ru = getRu();\n    const data = {\n      solution: values.solution,\n      problemId: id,\n      expert: me._id,\n      method: method,\n      Ra: parseFloat(sum.toFixed(3)),\n      Ru: ru\n    };\n    editProblemSolution(data).then(props.history.goBack());\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, problem && me ? method === '1' && /*#__PURE__*/React.createElement(PairComparisons, {\n    problem: problem,\n    onClick: onClick,\n    loading: loading,\n    array: getSolutions(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 11\n    }\n  }) || method === '2' && /*#__PURE__*/React.createElement(WeightedExperts, {\n    problem: problem,\n    onClick: onClick,\n    loading: loading,\n    array: getSolutions(),\n    Ru: getRu(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }) || method === '3' && /*#__PURE__*/React.createElement(Prefences, {\n    problem: problem,\n    onClick: onClick,\n    loading: loading,\n    array: getSolutions(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 11\n    }\n  }) || method === '4' && /*#__PURE__*/React.createElement(Ranks, {\n    problem: problem,\n    onClick: onClick,\n    loading: loading,\n    array: getSolutions(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 11\n    }\n  }) || method === '5' && /*#__PURE__*/React.createElement(CompletePairwises, {\n    problem: problem,\n    onClick: onClick,\n    loading: loading,\n    array: getSolutions(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 11\n    }\n  }) || /*#__PURE__*/React.createElement(MissingPage, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 15\n    }\n  }) : /*#__PURE__*/React.createElement(Loader, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default HOC(Solving);","map":{"version":3,"sources":["D:/BABOGA/SYSAN/client/src/components/panel/ProblemPOVS/Solve/Solving.js"],"names":["React","useContext","useEffect","ProblemContext","UserContext","CompletePairwises","PairComparisons","Prefences","Ranks","WeightedExperts","Loader","HOC","MissingPage","Solving","props","state","fetchSingleProblem","editProblemSolution","loading","problem","me","id","match","params","method","getSolutions","eval","getRu","getRa","onClick","values","sum","ru","Array","isArray","Ra","i","length","Ru","data","solution","problemId","expert","_id","parseFloat","toFixed","then","history","goBack"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\r\nimport { ProblemContext } from '../../../../context/problem/problemContext';\r\nimport { UserContext } from '../../../../context/user/userContext';\r\n\r\nimport CompletePairwises from './Methods/CompletePairwises';\r\nimport PairComparisons from './Methods/PairComparisons';\r\nimport Prefences from './Methods/Prefences';\r\nimport Ranks from './Methods/Ranks';\r\nimport WeightedExperts from './Methods/WeightedExperts';\r\n\r\nimport Loader from '../../../Loader/Loader';\r\nimport HOC from '../../HOC';\r\nimport MissingPage from '../../../errors/404';\r\n\r\nfunction Solving(props) {\r\n  const { state, fetchSingleProblem, editProblemSolution } =\r\n    useContext(ProblemContext);\r\n  const { loading, problem } = state;\r\n  const { me } = useContext(UserContext).state;\r\n  const id = props.match.params.id;\r\n  const method = props.match.params.method;\r\n\r\n  useEffect(() => {\r\n    fetchSingleProblem(id);\r\n  }, [fetchSingleProblem, id]);\r\n\r\n  const getSolutions = () => {\r\n    return eval(\r\n      `problem.experts.find((expert) => expert.id === me._id).solutions.method${method}.values`\r\n    );\r\n  };\r\n\r\n  const getRu = () => {\r\n    return eval(`problem.experts.find((expert) => expert.id === me._id).Ru`);\r\n  };\r\n\r\n  const getRa = () => {\r\n    return eval(`problem.experts.find((expert) => expert.id === me._id).Ra`);\r\n  };\r\n\r\n  const onClick = (values) => {\r\n    let sum = 0;\r\n    let ru = 0;\r\n    if (Array.isArray(values.Ra))\r\n      for (let i = 0; i < values.Ra.length; i += 1) sum += values.Ra[i];\r\n    else sum = getRa();\r\n    if (method === 2) ru = values.Ru;\r\n    else ru = getRu();\r\n    const data = {\r\n      solution: values.solution,\r\n      problemId: id,\r\n      expert: me._id,\r\n      method: method,\r\n      Ra: parseFloat(sum.toFixed(3)),\r\n      Ru: ru\r\n    };\r\n    editProblemSolution(data).then(props.history.goBack());\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {problem && me ? (\r\n        (method === '1' && (\r\n          <PairComparisons\r\n            problem={problem}\r\n            onClick={onClick}\r\n            loading={loading}\r\n            array={getSolutions()}\r\n          />\r\n        )) ||\r\n        (method === '2' && (\r\n          <WeightedExperts\r\n            problem={problem}\r\n            onClick={onClick}\r\n            loading={loading}\r\n            array={getSolutions()}\r\n            Ru={getRu()}\r\n          />\r\n        )) ||\r\n        (method === '3' && (\r\n          <Prefences\r\n            problem={problem}\r\n            onClick={onClick}\r\n            loading={loading}\r\n            array={getSolutions()}\r\n          />\r\n        )) ||\r\n        (method === '4' && (\r\n          <Ranks\r\n            problem={problem}\r\n            onClick={onClick}\r\n            loading={loading}\r\n            array={getSolutions()}\r\n          />\r\n        )) ||\r\n        (method === '5' && (\r\n          <CompletePairwises\r\n            problem={problem}\r\n            onClick={onClick}\r\n            loading={loading}\r\n            array={getSolutions()}\r\n          />\r\n        )) || <MissingPage />\r\n      ) : (\r\n        <Loader />\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nexport default HOC(Solving);\r\n"]},"metadata":{},"sourceType":"module"}