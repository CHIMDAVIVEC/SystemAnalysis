{"ast":null,"code":"var _jsxFileName = \"D:\\\\BABOGA\\\\SYSAN\\\\client\\\\src\\\\components\\\\auth\\\\Login.js\";\nimport React, { useContext, useEffect } from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { AuthContext } from '../../context/auth/AuthContext';\nimport checkAuth from '../../helpers/checkAuth';\n\nconst LoginForm = ({\n  history\n}) => {\n  const {\n    LoginAction,\n    state,\n    AuthReset\n  } = useContext(AuthContext);\n  const {\n    token,\n    loading,\n    error,\n    errResponse\n  } = state;\n\n  const onFinish = values => {\n    LoginAction(values);\n  };\n\n  useEffect(() => {\n    AuthReset();\n  }, []);\n  useEffect(() => {\n    checkAuth(token);\n\n    if (token) {\n      history.push('/home');\n      window.location.reload();\n    }\n  }, [token, history]);\n  useEffect(() => {\n    if (error) {\n      message.error(errResponse);\n    }\n  }, [error, errResponse]);\n\n  const registration = () => {\n    history.push('/user/reg');\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"test\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container \",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row justify-content-center align-items-center min-vh-100\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-4 align-self-center text-center\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 15\n    }\n  }, \"\\u0414\\u043E\\u0431\\u0440\\u043E \\u043F\\u043E\\u0436\\u0430\\u043B\\u043E\\u0432\\u0430\\u0442\\u044C!\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 15\n    }\n  }, \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0438 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0435, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043F\\u0440\\u043E\\u0434\\u043E\\u043B\\u0436\\u0438\\u0442\\u044C\"), /*#__PURE__*/React.createElement(Form, {\n    name: \"normal_login\",\n    className: \"login-form\",\n    initialValues: {\n      remember: true\n    },\n    onFinish: onFinish,\n    size: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: 'Введите e-mail!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(UserOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 29\n      }\n    }),\n    placeholder: \"E-mail\",\n    className: \"rounded-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Введите пароль!'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    prefix: /*#__PURE__*/React.createElement(LockOutlined, {\n      className: \"site-form-item-icon\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 29\n      }\n    }),\n    type: \"password\",\n    placeholder: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\",\n    className: \"rounded-pill\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 19\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"login-form-button\",\n    loading: loading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 19\n    }\n  }, \"\\u0412\\u043E\\u0439\\u0442\\u0438\")), /*#__PURE__*/React.createElement(Form.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: registration,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 19\n    }\n  }, \"\\u0415\\u0449\\u0435 \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043B\\u0438\\u0441\\u044C?\"))))))));\n};\n\nexport default LoginForm;","map":{"version":3,"sources":["D:/BABOGA/SYSAN/client/src/components/auth/Login.js"],"names":["React","useContext","useEffect","Form","Input","Button","message","UserOutlined","LockOutlined","AuthContext","checkAuth","LoginForm","history","LoginAction","state","AuthReset","token","loading","error","errResponse","onFinish","values","push","window","location","reload","registration","remember","required"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect } from 'react';\nimport { Form, Input, Button, message } from 'antd';\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\nimport { AuthContext } from '../../context/auth/AuthContext';\nimport checkAuth from '../../helpers/checkAuth';\n\nconst LoginForm = ({ history }) => {\n  const { LoginAction, state, AuthReset } = useContext(AuthContext);\n  const { token, loading, error, errResponse } = state;\n  const onFinish = (values) => {\n    LoginAction(values);\n  };\n  \n  useEffect(() => {\n    AuthReset();\n  }, []);\n\n  useEffect(() => {\n    checkAuth(token);\n    if (token) {\n      history.push('/home');\n      window.location.reload();\n    }\n  }, [token, history]);\n\n  useEffect(() => {\n    if (error) {\n      message.error(errResponse);\n    }\n  }, [error, errResponse]);\n\n  const registration = () => {\n    history.push('/user/reg');\n  }\n\n  return (\n    <div className=\"test\">\n      <div className=\"container \">\n        <div>\n          <div className=\"row justify-content-center align-items-center min-vh-100\">\n            <div className=\"col-md-4 align-self-center text-center\">\n              <h2>Добро пожаловать!</h2>\n              <p>Введите свои данные, чтобы продолжить</p>\n              <Form\n                name=\"normal_login\"\n                className=\"login-form\"\n                initialValues={{\n                  remember: true\n                }}\n                onFinish={onFinish}\n                size=\"large\"\n              >\n                <Form.Item\n                  name=\"email\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Введите e-mail!'\n                    }\n                  ]}\n                >\n                  <Input\n                    prefix={<UserOutlined className=\"site-form-item-icon\" />}\n                    placeholder=\"E-mail\"\n                    className=\"rounded-pill\"\n                  />\n                </Form.Item>\n                <Form.Item\n                  name=\"password\"\n                  rules={[\n                    {\n                      required: true,\n                      message: 'Введите пароль!'\n                    }\n                  ]}\n                >\n                  <Input\n                    prefix={<LockOutlined className=\"site-form-item-icon\" />}\n                    type=\"password\"\n                    placeholder=\"Пароль\"\n                    className=\"rounded-pill\"\n                  />\n                </Form.Item>\n\n                <Form.Item>\n                  <Button\n                    type=\"primary\"\n                    htmlType=\"submit\"\n                    className=\"login-form-button\"\n                    loading={loading}\n                  >\n                    Войти\n                  </Button>\n                </Form.Item>\n\n                <Form.Item>\n                  <Button\n                    onClick={registration}\n                  >\n                    Еще не зарегистрировались?\n                  </Button>\n                </Form.Item>\n\n              </Form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default LoginForm;\n"]},"metadata":{},"sourceType":"module"}