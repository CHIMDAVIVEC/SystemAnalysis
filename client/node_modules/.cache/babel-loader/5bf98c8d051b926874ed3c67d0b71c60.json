{"ast":null,"code":"var _jsxFileName = \"D:\\\\BABOGA\\\\SYSAN\\\\client\\\\src\\\\components\\\\panel\\\\HOC.js\";\nimport React, { useState, useEffect, useContext } from 'react';\nimport { Layout, message } from 'antd';\nimport { UserContext } from '../../context/user/userContext';\nimport { ProblemContext } from '../../context/problem/problemContext';\nimport { checkRole } from '../../helpers/checkAuth';\nimport Sidebar from './Sidebar';\nimport PageHeader from './Header';\nimport PageFooter from './Footer';\n\nfunction HOC(Component, index) {\n  return function DashboardCustomHoc(props) {\n    const [collapsed, setCollapsed] = useState(true);\n\n    const handleSetCollapsed = () => {\n      setCollapsed(!collapsed);\n    };\n\n    const {\n      state,\n      UserReset\n    } = useContext(UserContext);\n    const {\n      ProblemReset\n    } = useContext(ProblemContext);\n    const {\n      error,\n      errResponse,\n      message: userMessage,\n      me: loggedInUser\n    } = state;\n    const {\n      error: Perror,\n      errResponse: PerrResp,\n      message: problemMessage\n    } = useContext(ProblemContext).state;\n    useEffect(() => {\n      if (Perror) {\n        message.error(PerrResp);\n        ProblemReset();\n      }\n    }, [Perror]);\n    useEffect(() => {\n      if (problemMessage) {\n        message.success(problemMessage);\n        ProblemReset();\n      }\n    }, [problemMessage]);\n    useEffect(() => {\n      if (error) {\n        message.error(errResponse);\n        UserReset();\n      }\n    }, [error]);\n    useEffect(() => {\n      if (userMessage) {\n        message.success(userMessage);\n        UserReset();\n      }\n    }, [userMessage]);\n    return /*#__PURE__*/React.createElement(Layout, {\n      style: {\n        minHeight: '100vh'\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(Sidebar, {\n      role: checkRole(),\n      index: index,\n      collapsed: collapsed,\n      loggedInUserId: loggedInUser ? loggedInUser._id : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(Layout, {\n      className: \"site-layout\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(PageHeader, {\n      history: props.history,\n      collapsed: collapsed,\n      toggle: handleSetCollapsed,\n      name: loggedInUser ? loggedInUser.name : null,\n      surname: loggedInUser ? loggedInUser.surname : null,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(Component, Object.assign({}, props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 13\n      }\n    }))), /*#__PURE__*/React.createElement(PageFooter, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }\n    })));\n  };\n}\n\nexport default HOC;","map":{"version":3,"sources":["D:/BABOGA/SYSAN/client/src/components/panel/HOC.js"],"names":["React","useState","useEffect","useContext","Layout","message","UserContext","ProblemContext","checkRole","Sidebar","PageHeader","PageFooter","HOC","Component","index","DashboardCustomHoc","props","collapsed","setCollapsed","handleSetCollapsed","state","UserReset","ProblemReset","error","errResponse","userMessage","me","loggedInUser","Perror","PerrResp","problemMessage","success","minHeight","_id","history","name","surname"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\nimport { Layout, message } from 'antd';\nimport { UserContext } from '../../context/user/userContext';\nimport { ProblemContext } from '../../context/problem/problemContext';\nimport { checkRole } from '../../helpers/checkAuth';\nimport Sidebar from './Sidebar';\nimport PageHeader from './Header';\nimport PageFooter from './Footer';\n\nfunction HOC(Component, index) {\n  return function DashboardCustomHoc(props) {\n    const [collapsed, setCollapsed] = useState(true);\n    const handleSetCollapsed = () => {\n      setCollapsed(!collapsed);\n    };\n    const { state, UserReset } = useContext(UserContext);\n    const { ProblemReset } = useContext(ProblemContext);\n    const {\n      error,\n      errResponse,\n      message: userMessage,\n      me: loggedInUser\n    } = state;\n    const {\n      error: Perror,\n      errResponse: PerrResp,\n      message: problemMessage\n    } = useContext(ProblemContext).state;\n\n    useEffect(() => {\n      if (Perror) {\n        message.error(PerrResp);\n        ProblemReset();\n      }\n    }, [Perror]);\n\n    useEffect(() => {\n      if (problemMessage) {\n        message.success(problemMessage);\n        ProblemReset();\n      }\n    }, [problemMessage]);\n\n    useEffect(() => {\n      if (error) {\n        message.error(errResponse);\n        UserReset();\n      }\n    }, [error]);\n\n    useEffect(() => {\n      if (userMessage) {\n        message.success(userMessage);\n        UserReset();\n      }\n    }, [userMessage]);\n    \n    return (\n      <Layout style={{ minHeight: '100vh' }}>\n        <Sidebar\n          role={checkRole()}\n          index={index}\n          collapsed={collapsed}\n          loggedInUserId={loggedInUser ? loggedInUser._id : null}\n        />\n        <Layout className=\"site-layout\">\n          <PageHeader\n            history={props.history}\n            collapsed={collapsed}\n            toggle={handleSetCollapsed}\n            name={loggedInUser ? loggedInUser.name : null}\n            surname={loggedInUser ? loggedInUser.surname : null}\n          />\n          <div className=\"container\">\n            <Component {...props} />\n          </div>\n          <PageFooter />\n        </Layout>\n      </Layout>\n    );\n  };\n}\n\nexport default HOC;\n"]},"metadata":{},"sourceType":"module"}